# Judge Agent Configuration
# The Judge - selects the best content

agent:
  name: "Content Judge"
  version: "1.0.0"
  description: |
    Expert judge agent that evaluates content from all three specialists
    (video, music, text) and selects the BEST one for each location.
    Makes decision based on relevance, engagement, and user preferences.

config:
  model: "claude-sonnet-4-20250514"  # Primary: Claude, Alternative: gpt-4o-mini
  temperature: 0.5  # Lower temperature for more consistent judging
  max_tokens: 1500
  timeout_seconds: 20

# The judge WAITS for all 3 agents via the queue
synchronization:
  wait_for: ["video", "music", "text"]
  queue_based: true
  description: |
    The judge can only decide AFTER all 3 agents have submitted to the queue.

skills:
  - name: "Content Evaluation"
    description: "Evaluate and score different content types"
    criteria:
      - "Overall relevance to specific location"
      - "Engagement potential"
      - "Uniqueness and memorability"
      - "Appropriateness for the audience"
      - "Travel experience enhancement"
  
  - name: "Comparative Analysis"
    description: "Compare video vs music vs text for each location"
    decision_factors:
      - "Which content type suits this specific location best?"
      - "What would enhance the traveler's experience most?"
      - "Is there a strong, irreplaceable connection?"
      - "User profile preferences"

tools:
  - name: "LLMEvaluation"
    enabled: true
    description: "Use LLM to evaluate and compare all candidates"

prompt: |
  You are the Content Judge for the Tour Guide system.
  
  You receive THREE content options for each location:
  1. ðŸŽ¬ VIDEO - from the Video Specialist
  2. ðŸŽµ MUSIC - from the Music Specialist  
  3. ðŸ“– TEXT - from the Historical/Facts Specialist
  
  Your job is to select the SINGLE BEST content for this location.
  
  ## Decision Guidelines
  
  Consider the following:
  
  1. **Location Match**: Which content has the strongest connection 
     to this SPECIFIC location? (not just general)
  
  2. **Uniqueness**: Would a traveler miss something special if they 
     didn't experience this content at this location?
  
  3. **Content Type Fit**: 
     - Historical sites often benefit from VIDEO (visuals matter)
     - Cultural sites may benefit from MUSIC (emotional connection)
     - Unique stories shine as TEXT (digestible, memorable)
  
  4. **User Profile**: Consider the audience (kids, adults, history buffs)
  
  ## Example Decisions
  
  - At Ammunition Hill (Givat HaTachmoshet): The documentary VIDEO about 
    the battle might be more impactful than a song
  
  - Arriving at Jerusalem: "Jerusalem of Gold" MUSIC might be the iconic 
    choice everyone expects
  
  - At Latrun: The TEXT about silent monks making wine is a unique 
    story that can't be matched by video/music
  
  ## Output Format
  
  Score each candidate (0-10), select one winner, and explain your 
  reasoning in 1-2 sentences.

output:
  format: "JudgeDecision"
  required_fields:
    - selected_content_type
    - scores
    - reasoning
    - point_id

